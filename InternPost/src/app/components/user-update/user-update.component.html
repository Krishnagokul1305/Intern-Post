<div class="px-10 py-5 space-y-5">
  <!-- Update User Form -->
  <div class="bg-grey-900 p-8 rounded-lg shadow-lg w-full">
    <form [formGroup]="updateForm" (ngSubmit)="userDetailsUpdate()">
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
        <!-- Name Field -->
        <div class="space-y-2">
          <label for="name" class="block text-grey-400">Name</label>
          <input
            type="text"
            id="name"
            formControlName="fullName"
            class="mt-1 block w-full px-4 py-3 bg-grey-700 text-grey-100 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"
          />
          <div
            *ngIf="
              updateForm.get('fullName')?.invalid &&
              updateForm.get('fullName')?.touched
            "
            class="text-red-500"
          >
            <small *ngIf="updateForm.get('fullName')?.errors?.['required']"
              >Name is required.</small
            >
            <small *ngIf="updateForm.get('fullName')?.errors?.['minlength']"
              >Name must be at least 3 characters.</small
            >
          </div>
        </div>

        <!-- Email Field -->
        <div class="space-y-2">
          <label for="email" class="block text-grey-400">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="mt-1 block w-full px-4 py-3 bg-grey-700 text-grey-100 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"
          />
          <div
            *ngIf="
              updateForm.get('email')?.invalid &&
              updateForm.get('email')?.touched
            "
            class="text-red-500"
          >
            <small *ngIf="updateForm.get('email')?.errors?.['required']"
              >Email is required.</small
            >
            <small *ngIf="updateForm.get('email')?.errors?.['email']"
              >Enter a valid email.</small
            >
          </div>
        </div>

        <!-- Phone Number Field -->
        <div class="space-y-2">
          <label for="phone_no" class="block text-grey-400">Phone No</label>
          <input
            type="text"
            id="phone_no"
            formControlName="phoneNo"
            class="mt-1 block w-full px-4 py-3 bg-grey-700 text-grey-100 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"
          />
          <div
            *ngIf="
              updateForm.get('phoneNo')?.invalid &&
              updateForm.get('phoneNo')?.touched
            "
            class="text-red-500"
          >
            <small *ngIf="updateForm.get('phoneNo')?.errors?.['required']"
              >Phone number is required.</small
            >
            <small *ngIf="updateForm.get('phoneNo')?.errors?.['pattern']"
              >Enter a valid 10-digit phone number.</small
            >
          </div>
        </div>

        <!-- Image Upload Field -->
        <div class="space-y-2">
          <label for="image" class="block text-grey-400">Profile Image</label>
          <div class="flex items-center space-x-4 rounded-lg p-2 bg-grey-700">
            <label
              for="image"
              class="px-4 py-1 bg-blue-600 text-white rounded-lg cursor-pointer shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600"
            >
              Choose File
            </label>
            <span *ngIf="fileName" class="text-grey-100">{{ fileName }}</span>
            <input
              type="file"
              id="image"
              (change)="onFileChange($event)"
              class="hidden"
            />
            <button
              *ngIf="fileName"
              (click)="clearFile()"
              class="ml-auto text-grey-500 hover:text-grey-700 focus:outline-none"
            >
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path
                  fill-rule="evenodd"
                  d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="flex justify-end mt-6">
        <button
          type="submit"
          class="px-6 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600"
          [disabled]="isLoading"
          (click)="(updateUser)"
        >
          {{ isLoading ? "updating..." : "Update Details" }}
        </button>
      </div>
    </form>
  </div>

  <!-- Password Update Form -->
  <div class="bg-grey-900 p-8 rounded-lg shadow-lg w-full">
    <form [formGroup]="passwordForm" (ngSubmit)="userPasswordUpdate()">
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
        <!-- Old Password Field -->
        <div class="space-y-2">
          <label for="old_password" class="block text-grey-400"
            >Old Password</label
          >
          <input
            type="password"
            id="old_password"
            formControlName="old_password"
            class="mt-1 block w-full px-4 py-3 bg-grey-700 text-grey-100 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"
          />
          <div
            *ngIf="
              passwordForm.get('old_password')?.invalid &&
              passwordForm.get('old_password')?.touched
            "
            class="text-red-500"
          >
            <small
              *ngIf="passwordForm.get('old_password')?.errors?.['required']"
              >Old password is required.</small
            >
            <small
              *ngIf="passwordForm.get('old_password')?.errors?.['minlength']"
              >Old password must be at least 6 characters.</small
            >
          </div>
        </div>

        <!-- New Password Field -->
        <div class="space-y-2">
          <label for="new_password" class="block text-grey-400"
            >New Password</label
          >
          <input
            type="password"
            id="new_password"
            formControlName="new_password"
            class="mt-1 block w-full px-4 py-3 bg-grey-700 text-grey-100 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500"
          />
          <div
            *ngIf="
              passwordForm.get('new_password')?.invalid &&
              passwordForm.get('new_password')?.touched
            "
            class="text-red-500"
          >
            <small
              *ngIf="passwordForm.get('new_password')?.errors?.['required']"
              >New password is required.</small
            >
            <small
              *ngIf="passwordForm.get('new_password')?.errors?.['minlength']"
              >New password must be at least 6 characters.</small
            >
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="flex justify-end mt-6">
        <button
          type="submit"
          class="px-6 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600"
          [disabled]="isLoading"
          (click)="(updatePassword)"
        >
          {{ isLoading ? "updating..." : "Update Password " }}
        </button>
      </div>
    </form>
  </div>
</div>
